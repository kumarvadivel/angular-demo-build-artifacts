(self.webpackChunkintegreat=self.webpackChunkintegreat||[]).push([["node_modules_rxjs__esm2015_operators_index_js"],{35051:(En,H,u)=>{u.r(H),u.d(H,{audit:()=>$,auditTime:()=>wt,buffer:()=>St,bufferCount:()=>Tt,bufferTime:()=>Nt,bufferToggle:()=>Ft,bufferWhen:()=>zt,catchError:()=>Rt,combineAll:()=>kt,combineLatest:()=>Pt,concat:()=>Lt,concatAll:()=>Ut.K,concatMap:()=>q,concatMapTo:()=>Zt,count:()=>Yt,debounce:()=>Ht,debounceTime:()=>Jt,defaultIfEmpty:()=>v,delay:()=>ie,delayWhen:()=>oe,dematerialize:()=>le,distinct:()=>de,distinctUntilChanged:()=>it,distinctUntilKeyChanged:()=>we,elementAt:()=>Ce,endWith:()=>Ne,every:()=>Ve,exhaust:()=>We,exhaustMap:()=>nt,expand:()=>_e,filter:()=>w.p,finalize:()=>Re,find:()=>ke,findIndex:()=>Le,first:()=>Ue,flatMap:()=>T.qI,groupBy:()=>Ze.$,ignoreElements:()=>Ye,isEmpty:()=>He,last:()=>qe,map:()=>S.T,mapTo:()=>ts,materialize:()=>is,max:()=>us,merge:()=>ls,mergeAll:()=>as.U,mergeMap:()=>T.ZZ,mergeMapTo:()=>fs,mergeScan:()=>ds,min:()=>ms,multicast:()=>x,observeOn:()=>Ss.QE,onErrorResumeNext:()=>gs,pairwise:()=>Ts,partition:()=>Ns,pluck:()=>Vs,publish:()=>Es,publishBehavior:()=>Fs,publishLast:()=>Bs,publishReplay:()=>zs,race:()=>Ds,reduce:()=>z,refCount:()=>lt.B,repeat:()=>Rs,repeatWhen:()=>Ms,retry:()=>Ls,retryWhen:()=>Ys,sample:()=>Hs,sampleTime:()=>Js,scan:()=>B,sequenceEqual:()=>ei,share:()=>oi,shareReplay:()=>ci,single:()=>hi,skip:()=>fi,skipLast:()=>bi,skipUntil:()=>wi,skipWhile:()=>yi,startWith:()=>Ci,subscribeOn:()=>Oi,switchAll:()=>Ei,switchMap:()=>N,switchMapTo:()=>Wi,take:()=>P,takeLast:()=>A,takeUntil:()=>Fi,takeWhile:()=>zi,tap:()=>ji,throttle:()=>Pi,throttleTime:()=>Zi,throwIfEmpty:()=>F,timeInterval:()=>$i,timeout:()=>tn,timeoutWith:()=>ft,timestamp:()=>en,toArray:()=>rn,window:()=>on,windowCount:()=>hn,windowTime:()=>fn,windowToggle:()=>wn,windowWhen:()=>yn,withLatestFrom:()=>Cn,zip:()=>Vn,zipAll:()=>In});var c=u(13004);function $(s){return function(e){return e.lift(new bt(s))}}class bt{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new mt(t,this.durationSelector))}}class mt extends c.gn{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:n}=this;e=n(t)}catch(n){return this.destination.error(n)}const i=(0,c.tS)(e,new c.zA(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var d=u(41080),xt=u(76651);function wt(s,t=d.b){return $(()=>(0,xt.O)(s,t))}function St(s){return function(e){return e.lift(new gt(s))}}class gt{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new yt(t,this.closingNotifier))}}class yt extends c.gn{constructor(t,e){super(t),this.buffer=[],this.add((0,c.tS)(e,new c.zA(this)))}_next(t){this.buffer.push(t)}notifyNext(){const t=this.buffer;this.buffer=[],this.destination.next(t)}}var h=u(70762);function Tt(s,t=null){return function(i){return i.lift(new vt(s,t))}}class vt{constructor(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?Ot:Ct}call(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}class Ct extends h.v{constructor(t,e){super(t),this.bufferSize=e,this.buffer=[]}_next(t){const e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])}_complete(){const t=this.buffer;t.length>0&&this.destination.next(t),super._complete()}}class Ot extends h.v{constructor(t,e,i){super(t),this.bufferSize=e,this.startBufferEvery=i,this.buffers=[],this.count=0}_next(t){const{bufferSize:e,startBufferEvery:i,buffers:n,count:r}=this;this.count++,r%i==0&&n.push([]);for(let o=n.length;o--;){const l=n[o];l.push(t),l.length===e&&(n.splice(o,1),this.destination.next(l))}}_complete(){const{buffers:t,destination:e}=this;for(;t.length>0;){let i=t.shift();i.length>0&&e.next(i)}super._complete()}}var g=u(32234);function Nt(s){let t=arguments.length,e=d.b;(0,g.m)(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],t--);let i=null;t>=2&&(i=arguments[1]);let n=Number.POSITIVE_INFINITY;return t>=3&&(n=arguments[2]),function(o){return o.lift(new Vt(s,i,n,e))}}class Vt{constructor(t,e,i,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=i,this.scheduler=n}call(t,e){return e.subscribe(new Et(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class It{constructor(){this.buffer=[]}}class Et extends h.v{constructor(t,e,i,n,r){super(t),this.bufferTimeSpan=e,this.bufferCreationInterval=i,this.maxBufferSize=n,this.scheduler=r,this.contexts=[];const o=this.openContext();if(this.timespanOnly=null==i||i<0,this.timespanOnly)this.add(o.closeAction=r.schedule(Q,e,{subscriber:this,context:o,bufferTimeSpan:e}));else{const a={bufferTimeSpan:e,bufferCreationInterval:i,subscriber:this,scheduler:r};this.add(o.closeAction=r.schedule(J,e,{subscriber:this,context:o})),this.add(r.schedule(Wt,i,a))}}_next(t){const e=this.contexts,i=e.length;let n;for(let r=0;r<i;r++){const o=e[r],l=o.buffer;l.push(t),l.length==this.maxBufferSize&&(n=o)}n&&this.onBufferFull(n)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:e}=this;for(;t.length>0;){const i=t.shift();e.next(i.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();const i=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(Q,i,{subscriber:this,context:t,bufferTimeSpan:i}))}}openContext(){const t=new It;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}function Q(s){const t=s.subscriber,e=s.context;e&&t.closeContext(e),t.closed||(s.context=t.openContext(),s.context.closeAction=this.schedule(s,s.bufferTimeSpan))}function Wt(s){const{bufferCreationInterval:t,bufferTimeSpan:e,subscriber:i,scheduler:n}=s,r=i.openContext();i.closed||(i.add(r.closeAction=n.schedule(J,e,{subscriber:i,context:r})),this.schedule(s,t))}function J(s){const{subscriber:t,context:e}=s;t.closeContext(e)}var I=u(31805),m=u(33948),y=u(30611);function Ft(s,t){return function(i){return i.lift(new At(s,t))}}class At{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new Bt(t,this.openings,this.closingSelector))}}class Bt extends y.E{constructor(t,e,i){super(t),this.closingSelector=i,this.contexts=[],this.add((0,m.F)(this,e))}_next(t){const e=this.contexts,i=e.length;for(let n=0;n<i;n++)e[n].buffer.push(t)}_error(t){const e=this.contexts;for(;e.length>0;){const i=e.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,super._error(t)}_complete(){const t=this.contexts;for(;t.length>0;){const e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,super._complete()}notifyNext(t,e){t?this.closeBuffer(t):this.openBuffer(e)}notifyComplete(t){this.closeBuffer(t.context)}openBuffer(t){try{const i=this.closingSelector.call(this,t);i&&this.trySubscribe(i)}catch(e){this._error(e)}}closeBuffer(t){const e=this.contexts;if(e&&t){const{buffer:i,subscription:n}=t;this.destination.next(i),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}}trySubscribe(t){const e=this.contexts,n=new I.y,r={buffer:[],subscription:n};e.push(r);const o=(0,m.F)(this,t,r);!o||o.closed?this.closeBuffer(r):(o.context=r,this.add(o),n.add(o))}}function zt(s){return function(t){return t.lift(new _t(s))}}class _t{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new Dt(t,this.closingSelector))}}class Dt extends c.gn{constructor(t,e){super(t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let i,{closingSubscription:t}=this;t&&(this.remove(t),t.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:n}=this;i=n()}catch(n){return this.error(n)}t=new I.y,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add((0,c.tS)(i,new c.zA(this))),this.subscribing=!1}}function Rt(s){return function(e){const i=new jt(s),n=e.lift(i);return i.caught=n}}class jt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Mt(t,this.selector,this.caught))}}class Mt extends c.gn{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(r){return void super.error(r)}this._unsubscribeAndRecycle();const i=new c.zA(this);this.add(i);const n=(0,c.tS)(e,i);n!==i&&this.add(n)}}}var X=u(49776);function kt(s){return t=>t.lift(new X.ZS(s))}var R=u(27354),j=u(78160);function Pt(...s){let t=null;return"function"==typeof s[s.length-1]&&(t=s.pop()),1===s.length&&(0,R.c)(s[0])&&(s=s[0].slice()),e=>e.lift.call((0,j.H)([e,...s]),new X.ZS(t))}var E=u(20708);function Lt(...s){return t=>t.lift.call((0,E.x)(t,...s))}var Ut=u(2167),T=u(18456);function q(s,t){return(0,T.ZZ)(s,t,1)}function Zt(s,t){return q(()=>s,t)}function Yt(s){return t=>t.lift(new Kt(s,t))}class Kt{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new Gt(t,this.predicate,this.source))}}class Gt extends h.v{constructor(t,e,i){super(t),this.predicate=e,this.source=i,this.count=0,this.index=0}_next(t){this.predicate?this._tryPredicate(t):this.count++}_tryPredicate(t){let e;try{e=this.predicate(t,this.index++,this.source)}catch(i){return void this.destination.error(i)}e&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Ht(s){return t=>t.lift(new $t(s))}class $t{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Qt(t,this.durationSelector))}}class Qt extends c.gn{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=(0,c.tS)(e,new c.zA(this)),i&&!i.closed&&this.add(this.durationSubscription=i)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(t)}}}function Jt(s,t=d.b){return e=>e.lift(new Xt(s,t))}class Xt{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new qt(t,this.dueTime,this.scheduler))}}class qt extends h.v{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(te,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function te(s){s.debouncedNext()}function v(s=null){return t=>t.lift(new ee(s))}class ee{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new se(t,this.defaultValue))}}class se extends h.v{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function tt(s){return s instanceof Date&&!isNaN(+s)}var C=u(42351);function ie(s,t=d.b){const i=tt(s)?+s-t.now():Math.abs(s);return n=>n.lift(new ne(i,t))}class ne{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new M(t,this.delay,this.scheduler))}}class M extends h.v{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,n=t.scheduler,r=t.destination;for(;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(r);if(i.length>0){const o=Math.max(0,i[0].time-n.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(M.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new re(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(C.E.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(C.E.createComplete()),this.unsubscribe()}}class re{constructor(t,e){this.time=t,this.notification=e}}var et=u(15075);function oe(s,t){return t?e=>new ue(e,t).lift(new st(s)):e=>e.lift(new st(s))}class st{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new ce(t,this.delayDurationSelector))}}class ce extends y.E{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,i,n,r){this.destination.next(t),this.removeSubscription(r),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const i=this.delayDurationSelector(t,e);i&&this.tryDelay(i,t)}catch(i){this.destination.error(i)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const i=(0,m.F)(this,t,e);i&&!i.closed&&(this.destination.add(i),this.delayNotifierSubscriptions.push(i))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class ue extends et.c{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new he(t,this.source))}}class he extends h.v{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function le(){return function(t){return t.lift(new ae)}}class ae{call(t,e){return e.subscribe(new fe(t))}}class fe extends h.v{constructor(t){super(t)}_next(t){t.observe(this.destination)}}function de(s,t){return e=>e.lift(new pe(s,t))}class pe{constructor(t,e){this.keySelector=t,this.flushes=e}call(t,e){return e.subscribe(new be(t,this.keySelector,this.flushes))}}class be extends c.gn{constructor(t,e,i){super(t),this.keySelector=e,this.values=new Set,i&&this.add((0,c.tS)(i,new c.zA(this)))}notifyNext(){this.values.clear()}notifyError(t){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let e;const{destination:i}=this;try{e=this.keySelector(t)}catch(n){return void i.error(n)}this._finalizeNext(e,t)}_finalizeNext(t,e){const{values:i}=this;i.has(t)||(i.add(t),this.destination.next(e))}}function it(s,t){return e=>e.lift(new me(s,t))}class me{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xe(t,this.compare,this.keySelector))}}class xe extends h.v{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:n}=this;i=n(this.key,e)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}function we(s,t){return it((e,i)=>t?t(e[s],i[s]):e[s]===i[s])}var O=u(70434),w=u(58728),W=u(29994);function F(s=ye){return t=>t.lift(new Se(s))}class Se{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ge(t,this.errorFactory))}}class ge extends h.v{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function ye(){return new W.G}var k=u(51235);function P(s){return t=>0===s?(0,k.I)():t.lift(new Te(s))}class Te{constructor(t){if(this.total=t,this.total<0)throw new O.k}call(t,e){return e.subscribe(new ve(t,this.total))}}class ve extends h.v{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Ce(s,t){if(s<0)throw new O.k;const e=arguments.length>=2;return i=>i.pipe((0,w.p)((n,r)=>r===s),P(1),e?v(t):F(()=>new O.k))}var Oe=u(14421);function Ne(...s){return t=>(0,E.x)(t,(0,Oe.of)(...s))}function Ve(s,t){return e=>e.lift(new Ie(s,t,e))}class Ie{constructor(t,e,i){this.predicate=t,this.thisArg=e,this.source=i}call(t,e){return e.subscribe(new Ee(t,this.predicate,this.thisArg,this.source))}}class Ee extends h.v{constructor(t,e,i,n){super(t),this.predicate=e,this.thisArg=i,this.source=n,this.index=0,this.thisArg=i||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){return void this.destination.error(i)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function We(){return s=>s.lift(new Fe)}class Fe{call(t,e){return e.subscribe(new Ae(t))}}class Ae extends c.gn{constructor(t){super(t),this.hasCompleted=!1,this.hasSubscription=!1}_next(t){this.hasSubscription||(this.hasSubscription=!0,this.add((0,c.tS)(t,new c.zA(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var S=u(95006);function nt(s,t){return t?e=>e.pipe(nt((i,n)=>(0,j.H)(s(i,n)).pipe((0,S.T)((r,o)=>t(i,r,n,o))))):e=>e.lift(new Be(s))}class Be{constructor(t){this.project=t}call(t,e){return e.subscribe(new ze(t,this.project))}}class ze extends c.gn{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new c.zA(this),i=this.destination;i.add(e);const n=(0,c.tS)(t,e);n!==e&&i.add(n)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function _e(s,t=Number.POSITIVE_INFINITY,e){return t=(t||0)<1?Number.POSITIVE_INFINITY:t,i=>i.lift(new De(s,t,e))}class De{constructor(t,e,i){this.project=t,this.concurrent=e,this.scheduler=i}call(t,e){return e.subscribe(new L(t,this.project,this.concurrent,this.scheduler))}}class L extends c.gn{constructor(t,e,i,n){super(t),this.project=e,this.concurrent=i,this.scheduler=n,this.index=0,this.active=0,this.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:i,value:n,index:r}=t;e.subscribeToProjection(i,n,r)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const i=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:n}=this,r=n(t,i);this.scheduler?this.destination.add(this.scheduler.schedule(L.dispatch,0,{subscriber:this,result:r,value:t,index:i})):this.subscribeToProjection(r,t,i)}catch(n){e.error(n)}}else this.buffer.push(t)}subscribeToProjection(t,e,i){this.active++,this.destination.add((0,c.tS)(t,new c.zA(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this._next(t)}notifyComplete(){const t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}function Re(s){return t=>t.lift(new je(s))}class je{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Me(t,this.callback))}}class Me extends h.v{constructor(t,e){super(t),this.add(new I.y(e))}}function ke(s,t){if("function"!=typeof s)throw new TypeError("predicate is not a function");return e=>e.lift(new rt(s,e,!1,t))}class rt{constructor(t,e,i,n){this.predicate=t,this.source=e,this.yieldIndex=i,this.thisArg=n}call(t,e){return e.subscribe(new Pe(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Pe extends h.v{constructor(t,e,i,n,r){super(t),this.predicate=e,this.source=i,this.yieldIndex=n,this.thisArg=r,this.index=0}notifyComplete(t){const e=this.destination;e.next(t),e.complete(),this.unsubscribe()}_next(t){const{predicate:e,thisArg:i}=this,n=this.index++;try{e.call(i||this,t,n,this.source)&&this.notifyComplete(this.yieldIndex?n:t)}catch(r){this.destination.error(r)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function Le(s,t){return e=>e.lift(new rt(s,e,!0,t))}var U=u(55241);function Ue(s,t){const e=arguments.length>=2;return i=>i.pipe(s?(0,w.p)((n,r)=>s(n,r,i)):U.D,P(1),e?v(t):F(()=>new W.G))}var Ze=u(71270);function Ye(){return function(t){return t.lift(new Ke)}}class Ke{call(t,e){return e.subscribe(new Ge(t))}}class Ge extends h.v{_next(t){}}function He(){return s=>s.lift(new $e)}class $e{call(t,e){return e.subscribe(new Qe(t))}}class Qe extends h.v{constructor(t){super(t)}notifyComplete(t){const e=this.destination;e.next(t),e.complete()}_next(t){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function A(s){return function(e){return 0===s?(0,k.I)():e.lift(new Je(s))}}class Je{constructor(t){if(this.total=t,this.total<0)throw new O.k}call(t,e){return e.subscribe(new Xe(t,this.total))}}class Xe extends h.v{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,n=this.count++;e.length<i?e.push(t):e[n%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,n=this.ring;for(let r=0;r<i;r++){const o=e++%i;t.next(n[o])}}t.complete()}}function qe(s,t){const e=arguments.length>=2;return i=>i.pipe(s?(0,w.p)((n,r)=>s(n,r,i)):U.D,A(1),e?v(t):F(()=>new W.G))}function ts(s){return t=>t.lift(new es(s))}class es{constructor(t){this.value=t}call(t,e){return e.subscribe(new ss(t,this.value))}}class ss extends h.v{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function is(){return function(t){return t.lift(new ns)}}class ns{call(t,e){return e.subscribe(new rs(t))}}class rs extends h.v{constructor(t){super(t)}_next(t){this.destination.next(C.E.createNext(t))}_error(t){const e=this.destination;e.next(C.E.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(C.E.createComplete()),t.complete()}}function B(s,t){let e=!1;return arguments.length>=2&&(e=!0),function(n){return n.lift(new os(s,t,e))}}class os{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new cs(t,this.accumulator,this.seed,this.hasSeed))}}class cs extends h.v{constructor(t,e,i,n){super(t),this.accumulator=e,this._seed=i,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(n){this.destination.error(n)}this.seed=i,this.destination.next(i)}}var ot=u(78167);function z(s,t){return arguments.length>=2?function(i){return(0,ot.F)(B(s,t),A(1),v(t))(i)}:function(i){return(0,ot.F)(B((n,r,o)=>s(n,r,o+1)),A(1))(i)}}function us(s){return z("function"==typeof s?(e,i)=>s(e,i)>0?e:i:(e,i)=>e>i?e:i)}var hs=u(44670);function ls(...s){return t=>t.lift.call((0,hs.h)(t,...s))}var as=u(56201);function fs(s,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?(0,T.ZZ)(()=>s,t,e):("number"==typeof t&&(e=t),(0,T.ZZ)(()=>s,e))}function ds(s,t,e=Number.POSITIVE_INFINITY){return i=>i.lift(new ps(s,t,e))}class ps{constructor(t,e,i){this.accumulator=t,this.seed=e,this.concurrent=i}call(t,e){return e.subscribe(new bs(t,this.accumulator,this.seed,this.concurrent))}}class bs extends c.gn{constructor(t,e,i,n){super(t),this.accumulator=e,this.acc=i,this.concurrent=n,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){if(this.active<this.concurrent){const e=this.index++,i=this.destination;let n;try{const{accumulator:r}=this;n=r(this.acc,t,e)}catch(r){return i.error(r)}this.active++,this._innerSub(n)}else this.buffer.push(t)}_innerSub(t){const e=new c.zA(this),i=this.destination;i.add(e);const n=(0,c.tS)(t,e);n!==e&&i.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(t){const{destination:e}=this;this.acc=t,this.hasValue=!0,e.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function ms(s){return z("function"==typeof s?(e,i)=>s(e,i)<0?e:i:(e,i)=>e<i?e:i)}var xs=u(14725);function x(s,t){return function(i){let n;if(n="function"==typeof s?s:function(){return s},"function"==typeof t)return i.lift(new ws(n,t));const r=Object.create(i,xs.f);return r.source=i,r.subjectFactory=n,r}}class ws{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:i}=this,n=this.subjectFactory(),r=i(n).subscribe(t);return r.add(e.subscribe(n)),r}}var Ss=u(70097);function gs(...s){return 1===s.length&&(0,R.c)(s[0])&&(s=s[0]),t=>t.lift(new ct(s))}class ct{constructor(t){this.nextSources=t}call(t,e){return e.subscribe(new ys(t,this.nextSources))}}class ys extends c.gn{constructor(t,e){super(t),this.destination=t,this.nextSources=e}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(t){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const t=this.nextSources.shift();if(t){const e=new c.zA(this),i=this.destination;i.add(e);const n=(0,c.tS)(t,e);n!==e&&i.add(n)}else this.destination.complete()}}function Ts(){return s=>s.lift(new vs)}class vs{call(t,e){return e.subscribe(new Cs(t))}}class Cs extends h.v{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Os=u(90238);function Ns(s,t){return e=>[(0,w.p)(s,t)(e),(0,w.p)((0,Os.A)(s,t))(e)]}function Vs(...s){const t=s.length;if(0===t)throw new Error("list of properties cannot be empty.");return e=>(0,S.T)(function Is(s,t){return i=>{let n=i;for(let r=0;r<t;r++){const o=n?.[s[r]];if(void 0===o)return;n=o}return n}}(s,t))(e)}var f=u(45286);function Es(s){return s?x(()=>new f.B7,s):x(new f.B7)}var Ws=u(79928);function Fs(s){return t=>x(new Ws.t(s))(t)}var As=u(77656);function Bs(){return s=>x(new As.h)(s)}var ut=u(15575);function zs(s,t,e,i){e&&"function"!=typeof e&&(i=e);const n="function"==typeof e?e:void 0,r=new ut.m(s,t,i);return o=>x(()=>r,n)(o)}var _s=u(85197);function Ds(...s){return function(e){return 1===s.length&&(0,R.c)(s[0])&&(s=s[0]),e.lift.call((0,_s.O4)(e,...s))}}function Rs(s=-1){return t=>0===s?(0,k.I)():t.lift(new ht(s<0?-1:s-1,t))}class ht{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new js(t,this.count,this.source))}}class js extends h.v{constructor(t,e,i){super(t),this.count=e,this.source=i}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}function Ms(s){return t=>t.lift(new ks(s))}class ks{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new Ps(t,this.notifier,e))}}class Ps extends c.gn{constructor(t,e,i){super(t),this.notifier=e,this.source=i,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:t}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=t,this}subscribeToRetries(){let t;this.notifications=new f.B7;try{const{notifier:e}=this;t=e(this.notifications)}catch{return super.complete()}this.retries=t,this.retriesSubscription=(0,c.tS)(t,new c.zA(this))}}function Ls(s=-1){return t=>t.lift(new Us(s,t))}class Us{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new Zs(t,this.count,this.source))}}class Zs extends h.v{constructor(t,e,i){super(t),this.count=e,this.source=i}error(t){if(!this.isStopped){const{source:e,count:i}=this;if(0===i)return super.error(t);i>-1&&(this.count=i-1),e.subscribe(this._unsubscribeAndRecycle())}}}function Ys(s){return t=>t.lift(new Ks(s,t))}class Ks{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new Gs(t,this.notifier,this.source))}}class Gs extends c.gn{constructor(t,e,i){super(t),this.notifier=e,this.source=i}error(t){if(!this.isStopped){let e=this.errors,i=this.retries,n=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{e=new f.B7;try{const{notifier:r}=this;i=r(e)}catch(r){return super.error(r)}n=(0,c.tS)(i,new c.zA(this))}this._unsubscribeAndRecycle(),this.errors=e,this.retries=i,this.retriesSubscription=n,e.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}var lt=u(13110);function Hs(s){return t=>t.lift(new $s(s))}class $s{constructor(t){this.notifier=t}call(t,e){const i=new Qs(t),n=e.subscribe(i);return n.add((0,c.tS)(this.notifier,new c.zA(i))),n}}class Qs extends c.gn{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Js(s,t=d.b){return e=>e.lift(new Xs(s,t))}class Xs{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new qs(t,this.period,this.scheduler))}}class qs extends h.v{constructor(t,e,i){super(t),this.period=e,this.scheduler=i,this.hasValue=!1,this.add(i.schedule(ti,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function ti(s){let{subscriber:t,period:e}=s;t.notifyNext(),this.schedule(s,e)}function ei(s,t){return e=>e.lift(new si(s,t))}class si{constructor(t,e){this.compareTo=t,this.comparator=e}call(t,e){return e.subscribe(new ii(t,this.compareTo,this.comparator))}}class ii extends h.v{constructor(t,e,i){super(t),this.compareTo=e,this.comparator=i,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(e.subscribe(new ni(t,this)))}_next(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:t,_b:e,comparator:i}=this;for(;t.length>0&&e.length>0;){let n=t.shift(),r=e.shift(),o=!1;try{o=i?i(n,r):n===r}catch(l){this.destination.error(l)}o||this.emit(!1)}}emit(t){const{destination:e}=this;e.next(t),e.complete()}nextB(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class ni extends h.v{constructor(t,e){super(t),this.parent=e}_next(t){this.parent.nextB(t)}_error(t){this.parent.error(t),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}function ri(){return new f.B7}function oi(){return s=>(0,lt.B)()(x(ri)(s))}function ci(s,t,e){let i;return i=s&&"object"==typeof s?s:{bufferSize:s,windowTime:t,refCount:!1,scheduler:e},n=>n.lift(function ui({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let n,o,r=0,l=!1,a=!1;return function(V){let b;r++,!n||l?(l=!1,n=new ut.m(s,t,i),b=n.subscribe(this),o=V.subscribe({next(G){n.next(G)},error(G){l=!0,n.error(G)},complete(){a=!0,o=void 0,n.complete()}}),a&&(o=void 0)):b=n.subscribe(this),this.add(()=>{r--,b.unsubscribe(),b=void 0,o&&!a&&e&&0===r&&(o.unsubscribe(),o=void 0,n=void 0)})}}(i))}function hi(s){return t=>t.lift(new li(s,t))}class li{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new ai(t,this.predicate,this.source))}}class ai extends h.v{constructor(t,e,i){super(t),this.predicate=e,this.source=i,this.seenValue=!1,this.index=0}applySingleValue(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}_next(t){const e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)}tryNext(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(i){this.destination.error(i)}}_complete(){const t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new W.G)}}function fi(s){return t=>t.lift(new di(s))}class di{constructor(t){this.total=t}call(t,e){return e.subscribe(new pi(t,this.total))}}class pi extends h.v{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function bi(s){return t=>t.lift(new mi(s))}class mi{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new O.k}call(t,e){return e.subscribe(0===this._skipCount?new h.v(t):new xi(t,this._skipCount))}}class xi extends h.v{constructor(t,e){super(t),this._skipCount=e,this._count=0,this._ring=new Array(e)}_next(t){const e=this._skipCount,i=this._count++;if(i<e)this._ring[i]=t;else{const n=i%e,r=this._ring,o=r[n];r[n]=t,this.destination.next(o)}}}function wi(s){return t=>t.lift(new Si(s))}class Si{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new gi(t,this.notifier))}}class gi extends c.gn{constructor(t,e){super(t),this.hasValue=!1;const i=new c.zA(this);this.add(i),this.innerSubscription=i;const n=(0,c.tS)(e,i);n!==i&&(this.add(n),this.innerSubscription=n)}_next(t){this.hasValue&&super._next(t)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function yi(s){return t=>t.lift(new Ti(s))}class Ti{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new vi(t,this.predicate))}}class vi extends h.v{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=!!e}catch(e){this.destination.error(e)}}}function Ci(...s){const t=s[s.length-1];return(0,g.m)(t)?(s.pop(),e=>(0,E.x)(s,e,t)):e=>(0,E.x)(s,e)}var Z=u(85516),Y=u(49132);class _ extends et.c{constructor(t,e=0,i=Z.I){super(),this.source=t,this.delayTime=e,this.scheduler=i,(!(0,Y.k)(e)||e<0)&&(this.delayTime=0),(!i||"function"!=typeof i.schedule)&&(this.scheduler=Z.I)}static create(t,e=0,i=Z.I){return new _(t,e,i)}static dispatch(t){const{source:e,subscriber:i}=t;return this.add(e.subscribe(i))}_subscribe(t){return this.scheduler.schedule(_.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function Oi(s,t=0){return function(i){return i.lift(new Ni(s,t))}}class Ni{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new _(e,this.delay,this.scheduler).subscribe(t)}}function N(s,t){return"function"==typeof t?e=>e.pipe(N((i,n)=>(0,j.H)(s(i,n)).pipe((0,S.T)((r,o)=>t(i,r,n,o))))):e=>e.lift(new Vi(s))}class Vi{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ii(t,this.project))}}class Ii extends c.gn{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new c.zA(this),n=this.destination;n.add(i),this.innerSubscription=(0,c.tS)(t,i),this.innerSubscription!==i&&n.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Ei(){return N(U.D)}function Wi(s,t){return t?N(()=>s,t):N(()=>s)}function Fi(s){return t=>t.lift(new Ai(s))}class Ai{constructor(t){this.notifier=t}call(t,e){const i=new Bi(t),n=(0,c.tS)(this.notifier,new c.zA(i));return n&&!i.seenValue?(i.add(n),e.subscribe(i)):i}}class Bi extends c.gn{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function zi(s,t=!1){return e=>e.lift(new _i(s,t))}class _i{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new Di(t,this.predicate,this.inclusive))}}class Di extends h.v{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(n){return void e.error(n)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;e?i.next(t):(this.inclusive&&i.next(t),i.complete())}}var p=u(28803),Ri=u(98099);function ji(s,t,e){return function(n){return n.lift(new Mi(s,t,e))}}class Mi{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new ki(t,this.nextOrObserver,this.error,this.complete))}}class ki extends h.v{constructor(t,e,i,n){super(t),this._tapNext=p.l,this._tapError=p.l,this._tapComplete=p.l,this._tapError=i||p.l,this._tapComplete=n||p.l,(0,Ri.T)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||p.l,this._tapError=e.error||p.l,this._tapComplete=e.complete||p.l)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const at={leading:!0,trailing:!1};function Pi(s,t=at){return e=>e.lift(new Li(s,!!t.leading,!!t.trailing))}class Li{constructor(t,e,i){this.durationSelector=t,this.leading=e,this.trailing=i}call(t,e){return e.subscribe(new Ui(t,this.durationSelector,this.leading,this.trailing))}}class Ui extends c.gn{constructor(t,e,i,n){super(t),this.destination=t,this.durationSelector=e,this._leading=i,this._trailing=n,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=(0,c.tS)(e,new c.zA(this)))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function Zi(s,t=d.b,e=at){return i=>i.lift(new Yi(s,t,e.leading,e.trailing))}class Yi{constructor(t,e,i,n){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=n}call(t,e){return e.subscribe(new Ki(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Ki extends h.v{constructor(t,e,i,n,r){super(t),this.duration=e,this.scheduler=i,this.leading=n,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Gi,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Gi(s){const{subscriber:t}=s;t.clearThrottle()}var Hi=u(29418);function $i(s=d.b){return t=>(0,Hi.v)(()=>t.pipe(B(({current:e},i)=>({value:i,current:s.now(),last:e}),{current:s.now(),value:void 0,last:void 0}),(0,S.T)(({current:e,last:i,value:n})=>new Qi(n,e-i))))}class Qi{constructor(t,e){this.value=t,this.interval=e}}var Ji=u(76980);function ft(s,t,e=d.b){return i=>{let n=tt(s),r=n?+s-e.now():Math.abs(s);return i.lift(new Xi(r,n,t,e))}}class Xi{constructor(t,e,i,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=i,this.scheduler=n}call(t,e){return e.subscribe(new K(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class K extends c.gn{constructor(t,e,i,n,r){super(t),this.absoluteTimeout=e,this.waitFor=i,this.withObservable=n,this.scheduler=r,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add((0,c.tS)(e,new c.zA(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(K.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var qi=u(74526);function tn(s,t=d.b){return ft(s,(0,qi.$)(new Ji.M),t)}function en(s=d.b){return(0,S.T)(t=>new sn(t,s.now()))}class sn{constructor(t,e){this.value=t,this.timestamp=e}}function nn(s,t,e){return 0===e?[t]:(s.push(t),s)}function rn(){return z(nn,[])}function on(s){return function(e){return e.lift(new cn(s))}}class cn{constructor(t){this.windowBoundaries=t}call(t,e){const i=new un(t),n=e.subscribe(i);return n.closed||i.add((0,c.tS)(this.windowBoundaries,new c.zA(i))),n}}class un extends c.gn{constructor(t){super(t),this.window=new f.B7,t.next(this.window)}notifyNext(){this.openWindow()}notifyError(t){this._error(t)}notifyComplete(){this._complete()}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const t=this.window;t&&t.complete();const e=this.destination,i=this.window=new f.B7;e.next(i)}}function hn(s,t=0){return function(i){return i.lift(new ln(s,t))}}class ln{constructor(t,e){this.windowSize=t,this.startWindowEvery=e}call(t,e){return e.subscribe(new an(t,this.windowSize,this.startWindowEvery))}}class an extends h.v{constructor(t,e,i){super(t),this.destination=t,this.windowSize=e,this.startWindowEvery=i,this.windows=[new f.B7],this.count=0,t.next(this.windows[0])}_next(t){const e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,n=this.windowSize,r=this.windows,o=r.length;for(let a=0;a<o&&!this.closed;a++)r[a].next(t);const l=this.count-n+1;if(l>=0&&l%e==0&&!this.closed&&r.shift().complete(),++this.count%e==0&&!this.closed){const a=new f.B7;r.push(a),i.next(a)}}_error(t){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function fn(s){let t=d.b,e=null,i=Number.POSITIVE_INFINITY;return(0,g.m)(arguments[3])&&(t=arguments[3]),(0,g.m)(arguments[2])?t=arguments[2]:(0,Y.k)(arguments[2])&&(i=Number(arguments[2])),(0,g.m)(arguments[1])?t=arguments[1]:(0,Y.k)(arguments[1])&&(e=Number(arguments[1])),function(r){return r.lift(new dn(s,e,i,t))}}class dn{constructor(t,e,i,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=i,this.scheduler=n}call(t,e){return e.subscribe(new bn(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class pn extends f.B7{constructor(){super(...arguments),this._numberOfNextedValues=0}next(t){this._numberOfNextedValues++,super.next(t)}get numberOfNextedValues(){return this._numberOfNextedValues}}class bn extends h.v{constructor(t,e,i,n,r){super(t),this.destination=t,this.windowTimeSpan=e,this.windowCreationInterval=i,this.maxWindowSize=n,this.scheduler=r,this.windows=[];const o=this.openWindow();if(null!==i&&i>=0){const a={windowTimeSpan:e,windowCreationInterval:i,subscriber:this,scheduler:r};this.add(r.schedule(dt,e,{subscriber:this,window:o,context:null})),this.add(r.schedule(xn,i,a))}else this.add(r.schedule(mn,e,{subscriber:this,window:o,windowTimeSpan:e}))}_next(t){const e=this.windows,i=e.length;for(let n=0;n<i;n++){const r=e[n];r.closed||(r.next(t),r.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(r))}}_error(t){const e=this.windows;for(;e.length>0;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;for(;t.length>0;){const e=t.shift();e.closed||e.complete()}this.destination.complete()}openWindow(){const t=new pn;return this.windows.push(t),this.destination.next(t),t}closeWindow(t){t.complete();const e=this.windows;e.splice(e.indexOf(t),1)}}function mn(s){const{subscriber:t,windowTimeSpan:e,window:i}=s;i&&t.closeWindow(i),s.window=t.openWindow(),this.schedule(s,e)}function xn(s){const{windowTimeSpan:t,subscriber:e,scheduler:i,windowCreationInterval:n}=s,r=e.openWindow(),o=this;let l={action:o,subscription:null};l.subscription=i.schedule(dt,t,{subscriber:e,window:r,context:l}),o.add(l.subscription),o.schedule(s,n)}function dt(s){const{subscriber:t,window:e,context:i}=s;i&&i.action&&i.subscription&&i.action.remove(i.subscription),t.closeWindow(e)}function wn(s,t){return e=>e.lift(new Sn(s,t))}class Sn{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new gn(t,this.openings,this.closingSelector))}}class gn extends y.E{constructor(t,e,i){super(t),this.openings=e,this.closingSelector=i,this.contexts=[],this.add(this.openSubscription=(0,m.F)(this,e,e))}_next(t){const{contexts:e}=this;if(e){const i=e.length;for(let n=0;n<i;n++)e[n].window.next(t)}}_error(t){const{contexts:e}=this;if(this.contexts=null,e){const i=e.length;let n=-1;for(;++n<i;){const r=e[n];r.window.error(t),r.subscription.unsubscribe()}}super._error(t)}_complete(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let i=-1;for(;++i<e;){const n=t[i];n.window.complete(),n.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let i=-1;for(;++i<e;){const n=t[i];n.window.unsubscribe(),n.subscription.unsubscribe()}}}notifyNext(t,e,i,n,r){if(t===this.openings){let o;try{const{closingSelector:b}=this;o=b(e)}catch(b){return this.error(b)}const l=new f.B7,a=new I.y,D={window:l,subscription:a};this.contexts.push(D);const V=(0,m.F)(this,o,D);V.closed?this.closeWindow(this.contexts.length-1):(V.context=D,a.add(V)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(t))}notifyError(t){this.error(t)}notifyComplete(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}closeWindow(t){if(-1===t)return;const{contexts:e}=this,i=e[t],{window:n,subscription:r}=i;e.splice(t,1),n.complete(),r.unsubscribe()}}function yn(s){return function(e){return e.lift(new Tn(s))}}class Tn{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new vn(t,this.closingSelector))}}class vn extends y.E{constructor(t,e){super(t),this.destination=t,this.closingSelector=e,this.openWindow()}notifyNext(t,e,i,n,r){this.openWindow(r)}notifyError(t){this._error(t)}notifyComplete(t){this.openWindow(t)}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(t=null){t&&(this.remove(t),t.unsubscribe());const e=this.window;e&&e.complete();const i=this.window=new f.B7;let n;this.destination.next(i);try{const{closingSelector:r}=this;n=r()}catch(r){return this.destination.error(r),void this.window.error(r)}this.add(this.closingNotification=(0,m.F)(this,n))}}function Cn(...s){return t=>{let e;return"function"==typeof s[s.length-1]&&(e=s.pop()),t.lift(new On(s,e))}}class On{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Nn(t,this.observables,this.project))}}class Nn extends y.E{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++)this.toRespond.push(r);for(let r=0;r<n;r++)this.add((0,m.F)(this,e[r],void 0,r))}notifyNext(t,e,i){this.values[i]=e;const n=this.toRespond;if(n.length>0){const r=n.indexOf(i);-1!==r&&n.splice(r,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}var pt=u(85113);function Vn(...s){return function(e){return e.lift.call((0,pt.yU)(e,...s))}}function In(s){return t=>t.lift(new pt.ee(s))}}}]);